{% extends 'base.html' %}

{% block title %}
All Movies
{% endblock %}

{% block main %}
<h1> Movies list</h1>
{% if movies %}
<div class="table-responsive">
  <table class="table table-striped table-hover align-middle">
    <thead>
    <tr>
      <th scope="col">Slug</th>
      <th scope="col">Title</th>
      <th scope="col">Description</th>
      <th scope="col">Rating</th>
      <th scope="col">Actions</th>
    </tr>
    </thead>
    <tbody>
    {% for movie in movies %}
    <tr>
      <td><code>{{ movie.slug }}</code></td>
      <td>{{ movie.title }}</td>
      <td>
        {% if movie.description %}
        {{ movie.description }}
        {% else %}
        <code>â€”</code>
        {% endif %}
      </td>
      <td>{{ movie.rating }}</td>
      <td>
        <div
            class="btn-group"
            role="group"
            aria-label="Movie Actions">
          <a
              href="{{ url_for('movies:update-view', slug=movie.slug) }}"
              class="btn
            btn-outline-info">Edit</a>
          <a
              href="#"
              class="btn
              btn-outline-danger
              disabled"
              aria-disabled="true"
              tabindex="-1">Delete</a>
        </div>
      </td>
    </tr>
    {% endfor %}
    </tbody>
  </table>
</div>

<div>
  <a
      class="btn btn-outline-primary"
      href="{{ url_for('movies:create-view') }}"
  >
    Create new
  </a>
</div>

{% else %}
<h2>No Movies yet</h2>
<h3>You can <a href="{{ url_for('movies:create-view') }}">create a new one</a></h3>
{% endif %}
{% endblock %}
